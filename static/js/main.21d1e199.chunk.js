(this["webpackJsonpkakao-login-app"]=this["webpackJsonpkakao-login-app"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/terms.d8c456cc.md"},29:function(e,t,a){e.exports=a(59)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(18),c=a.n(o),s=a(3),r=a(7),i=a(73);const m="https://api.themoviedb.org/3";var u={getNowPlaying:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const a=await i.a.get("".concat(m,"/movie/now_playing?api_key=").concat(e,"&language=ko-KR&page=").concat(t));return a.data},getPopular:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const a=await i.a.get("".concat(m,"/movie/popular?api_key=").concat(e,"&language=ko-KR&page=").concat(t));return a.data},searchMovies:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const l=await i.a.get("".concat(m,"/search/movie?api_key=").concat(e,"&language=ko-KR&query=").concat(t,"&page=").concat(a));return l.data}};a(39);var g=e=>{let{movie:t,onClick:a}=e;const{poster_path:o,title:c,id:s}=t,[r,i]=Object(l.useState)(!1);Object(l.useEffect)(()=>{const e=(JSON.parse(localStorage.getItem("wishlist"))||[]).some(e=>e.id===s);i(e)},[s]);return n.a.createElement("div",{className:"movie-card"},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(o),alt:c||"Movie Poster",className:"movie-poster ".concat(r?"wishlisted":""),onClick:a}),n.a.createElement("div",{className:"movie-details"},n.a.createElement("button",{className:"wishlist-btn ".concat(r?"disabled":""),onClick:e=>{e.stopPropagation();let a=JSON.parse(localStorage.getItem("wishlist"))||[];r?(a=a.filter(e=>e.id!==s),i(!1)):(a.push(t),i(!0)),localStorage.setItem("wishlist",JSON.stringify(a))}},r?"\u2705 \ucc1c \uc644\ub8cc":"\ucc1c\ud558\uae30")))};a(40);var d=e=>{let{title:t,movies:a,onMovieClick:l,wishlist:o}=e;return n.a.createElement("div",{className:"movie-slider"},n.a.createElement("h2",null,t),n.a.createElement("div",{className:"slider-container"},a.map(e=>n.a.createElement(g,{key:e.id,movie:e,onClick:()=>l(e),isWishlisted:o.some(t=>t.id===e.id)}))))};var p={get:e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},set:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},remove:e=>{localStorage.removeItem(e)}};a(41);var E=e=>{let{movie:t,onClose:a}=e;Object(s.q)();const{id:o,title:c,overview:r,release_date:m,vote_average:u,poster_path:g}=t,[d,E]=Object(l.useState)(!1),[v,h]=Object(l.useState)(null),[b,f]=Object(l.useState)(null);Object(l.useEffect)(()=>{(async()=>{const e=(()=>{const e=JSON.parse(localStorage.getItem("loggedInUser"));return null===e||void 0===e?void 0:e.apiKey})();if(e)try{const t=await i.a.get("https://api.themoviedb.org/3/movie/".concat(o),{params:{api_key:e,language:"ko-KR"}});h(t.data)}catch(b){console.error("Error fetching movie details:",b),f("\uc601\ud654 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else f("API \ud0a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})()},[o]),Object(l.useEffect)(()=>{const e=p.get("wishlist")||[];E(e.some(e=>e.id===o))},[o]);if(b)return n.a.createElement("div",{className:"modal-overlay",onClick:a},n.a.createElement("div",{className:"modal-content"},n.a.createElement("button",{className:"close-button",onClick:a},"\xd7"),n.a.createElement("p",{className:"error-message"},b)));if(!v)return n.a.createElement("div",{className:"modal-overlay",onClick:a},n.a.createElement("div",{className:"modal-content"},n.a.createElement("button",{className:"close-button",onClick:a},"\xd7"),n.a.createElement("p",{className:"loading-message"},"\ub85c\ub529\uc911...")));const{original_title:S,runtime:w,genres:O,vote_count:y,original_language:N,production_companies:j,budget:k,revenue:I}=v;return n.a.createElement("div",{className:"modal-overlay",onClick:a},n.a.createElement("div",{className:"modal-content",onClick:e=>e.stopPropagation()},n.a.createElement("button",{className:"close-button",onClick:a},"\xd7"),n.a.createElement("div",{className:"modal-header"},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(g),alt:c,className:"modal-poster"}),n.a.createElement("div",{className:"modal-info"},n.a.createElement("h2",null,c),n.a.createElement("p",null,n.a.createElement("strong",null,"\uc6d0\uc81c\ubaa9:")," ",S),n.a.createElement("p",null,n.a.createElement("strong",null,"\uac1c\ubd09\uc77c:")," ",m),n.a.createElement("p",null,n.a.createElement("strong",null,"\ud3c9\uc810:")," ",u," (",y,"\uba85 \ud22c\ud45c)"),n.a.createElement("p",null,n.a.createElement("strong",null,"\uc7a5\ub974:")," ",O.map(e=>e.name).join(", ")),n.a.createElement("p",null,n.a.createElement("strong",null,"\ub7ec\ub2dd \ud0c0\uc784:")," ",w,"\ubd84"),n.a.createElement("p",null,n.a.createElement("strong",null,"\uc5b8\uc5b4:")," ",N.toUpperCase()),n.a.createElement("p",null,n.a.createElement("strong",null,"\uc81c\uc791\uc0ac:")," ",j.length?j.map(e=>e.name).join(", "):"\uc815\ubcf4 \uc5c6\uc74c"),n.a.createElement("p",null,n.a.createElement("strong",null,"\uc608\uc0b0:")," $",k.toLocaleString()),n.a.createElement("p",null,n.a.createElement("strong",null,"\uc218\uc775:")," $",I.toLocaleString()),n.a.createElement("p",null,n.a.createElement("strong",null,"\uc904\uac70\ub9ac:")," ",r||"\uc904\uac70\ub9ac\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),n.a.createElement("button",{className:"wishlist-button ".concat(d?"active":""),onClick:()=>{const e=p.get("wishlist")||[];if(d){const t=e.filter(e=>e.id!==o);p.set("wishlist",t),alert("".concat(c,"\uc744(\ub97c) \ucc1c \ubaa9\ub85d\uc5d0\uc11c \uc81c\uac70\ud588\uc2b5\ub2c8\ub2e4!"))}else{const t={id:o,title:c,overview:r,release_date:m,vote_average:u,poster_path:g};e.push(t),p.set("wishlist",e),alert("".concat(c,"\uc744(\ub97c) \ucc1c \ubaa9\ub85d\uc5d0 \ucd94\uac00\ud588\uc2b5\ub2c8\ub2e4!"))}E(!d)}},d?"\ucc1c \ud574\uc81c":"\ucc1c\ud558\uae30")))))};a(42);var v=()=>{Object(s.q)();const[e,t]=Object(l.useState)(null),[a,o]=Object(l.useState)([]),[c,r]=Object(l.useState)([]),[i,m]=Object(l.useState)([]),[g,p]=Object(l.useState)([]),[v,h]=Object(l.useState)([]),[b,f]=Object(l.useState)(null),[S,w]=Object(l.useState)(!1),[O,y]=Object(l.useState)(()=>{const e=JSON.parse(localStorage.getItem("loggedInUser"));return(null===e||void 0===e?void 0:e.apiKey)||null}),N=()=>{const e=JSON.parse(localStorage.getItem("wishlist"))||[];h(e)};Object(l.useEffect)(()=>{N()},[]),Object(l.useEffect)(()=>{if(O){(async()=>{try{const e=await u.getPopularMovies(O);o(e.results.slice(0,10)),t(e.results[Math.floor(Math.random()*e.results.length)]);const a=await u.getGenres(O);p(a.genres),j(a.genres.slice(0,5))}catch(e){console.error("Error fetching initial data:",e)}})()}},[O]);const j=async e=>{const t=[];for(const l of e)try{const e=await u.getMoviesByGenre(O,l.id);t.push({genreName:l.name,movies:e.results.slice(0,10)})}catch(a){console.error("Error loading movies for genre: ".concat(l.name),a)}r(e=>[...e,...t]),m(t=>[...t,...e])},k=e=>{f(e),w(!0)};return n.a.createElement("div",{className:"home"},e&&n.a.createElement("div",{className:"banner",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(e.backdrop_path,")")}},n.a.createElement("div",{className:"banner-overlay"},n.a.createElement("div",{className:"banner-content"},n.a.createElement("h1",null,e.title),n.a.createElement("p",null,e.overview),n.a.createElement("div",{className:"banner-buttons"},n.a.createElement("button",{className:"play-button",onClick:()=>alert("\uc7ac\uc0dd \uae30\ub2a5\uc740 \uc544\uc9c1 \uad6c\ud604\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")},"\uc7ac\uc0dd"),n.a.createElement("button",{className:"details-button",onClick:()=>k(e)},"\uc0c1\uc138\uc815\ubcf4"))))),n.a.createElement(d,{title:"\uc9c0\uae08 \ub728\ub294 \ucf58\ud150\uce20",movies:a,onMovieClick:k,wishlist:v}),c.map(e=>{let{genreName:t,movies:a}=e;return n.a.createElement(d,{key:t,title:t,movies:a,onMovieClick:k,wishlist:v})}),S&&b&&n.a.createElement(E,{movie:b,onClose:()=>{f(null),w(!1),N()}}))};a(43);var h=()=>n.a.createElement("div",{className:"loading-spinner"},n.a.createElement("div",{className:"spinner"}));a(44);var b=()=>{var e;const t=null===(e=JSON.parse(localStorage.getItem("loggedInUser")))||void 0===e?void 0:e.apiKey,[a,o]=Object(l.useState)([]),[c,s]=Object(l.useState)(!1),[r,i]=Object(l.useState)(1),[m,d]=Object(l.useState)(!0),[p,v]=Object(l.useState)(null),[b,f]=Object(l.useState)(!1),[S,w]=Object(l.useState)(!1),[O,y]=Object(l.useState)([]);Object(l.useEffect)(()=>{(()=>{const e=JSON.parse(localStorage.getItem("wishlist"))||[];y([...e])})()},[]);Object(l.useEffect)(()=>{(async e=>{if(t&&!c){s(!0);try{const a=await u.getPopularMovies(t,e);o(e=>[...e,...a.results]),d(a.page<a.total_pages)}catch(a){console.error("Error fetching popular movies:",a)}finally{s(!1)}}})(r)},[r,t]);const N=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&!c&&m&&i(e=>e+1),window.scrollY>300?w(!0):w(!1)};Object(l.useEffect)(()=>(window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)),[c,m]);const j=e=>{const t=JSON.parse(localStorage.getItem("wishlist"))||[];if(t.some(t=>t.id===e.id)){const a=t.filter(t=>t.id!==e.id);localStorage.setItem("wishlist",JSON.stringify(a))}else t.push(e),localStorage.setItem("wishlist",JSON.stringify(t));y([...t])};return Object(l.useEffect)(()=>{if(!b){const e=JSON.parse(localStorage.getItem("wishlist"))||[];y(e)}},[b]),n.a.createElement("div",{className:"popular"},n.a.createElement("h1",null,"\ud83c\udfc6 \uc9c0\uae08 \ub728\ub294 \ucee8\ud150\uce20"),n.a.createElement("div",{className:"movie-grid"},a.map(e=>n.a.createElement(g,{key:"".concat(e.id,"-").concat(O.some(t=>t.id===e.id)),movie:e,isWishlisted:O.some(t=>t.id===e.id),onWishlistToggle:j,onClick:()=>(e=>{(()=>{const e=JSON.parse(localStorage.getItem("wishlist"))||[];y(e)})(),v(e),f(!0)})(e)}))),c&&n.a.createElement(h,null),!m&&n.a.createElement("p",{className:"end-message"},"\ubd88\ub7ec\uc62c \uc601\ud654\uac00 \ub354\uc774\uc0c1 \uc5c6\uc2b5\ub2c8\ub2e4...!"),S&&n.a.createElement("button",{className:"scroll-to-top",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},"\u2191"),b&&p&&n.a.createElement(E,{movie:p,onClose:()=>{v(null),f(!1);const e=JSON.parse(localStorage.getItem("wishlist"))||[];y(e)}}))};a(45);var f=()=>{const e=Object(s.q)(),[t,a]=Object(l.useState)(""),[o,c]=Object(l.useState)([]),[r,m]=Object(l.useState)(""),[d,p]=Object(l.useState)(""),[v,h]=Object(l.useState)(""),[b,f]=Object(l.useState)(""),[S,w]=Object(l.useState)(""),[O,y]=Object(l.useState)([]),[N,j]=Object(l.useState)(!1),[k,I]=Object(l.useState)(null),[C,J]=Object(l.useState)(!1),[K,T]=Object(l.useState)(1),[_,P]=Object(l.useState)(!0),[M,U]=Object(l.useState)(!1),[R,D]=Object(l.useState)([]),[A,L]=Object(l.useState)(()=>{const e=JSON.parse(localStorage.getItem("loggedInUser"));return(null===e||void 0===e?void 0:e.apiKey)||null}),q=()=>{const e=JSON.parse(localStorage.getItem("wishlist"))||[];D([...e])};Object(l.useEffect)(()=>{q()},[]),Object(l.useEffect)(()=>{A||e("/signin")},[A,e]),Object(l.useEffect)(()=>{(async()=>{if(A)try{const e=await u.getGenres(A);c(e.genres)}catch(e){console.error("Error fetching genres:",e)}})()},[A]);const G=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(A&&!N){j(!0);try{let a;const l=["api_key=".concat(A),"language=ko-KR","page=".concat(K)];t?(a="https://api.themoviedb.org/3/search/movie",l.push("query=".concat(encodeURIComponent(t)))):(a="https://api.themoviedb.org/3/discover/movie",r&&l.push("with_genres=".concat(r)),d&&l.push("vote_average.gte=".concat(d)),b&&l.push("primary_release_year=".concat(b)),S&&l.push("certification_country=US&certification=".concat(S)),v&&l.push("with_original_language=".concat(v)));let n=(await i.a.get("".concat(a,"?").concat(l.join("&")))).data.results;y(e?n:e=>[...e,...n]),P(n.length>0)}catch(a){console.error("Error fetching movies:",a),y([])}finally{j(!1)}}};Object(l.useEffect)(()=>{y([]),T(1),P(!0),G(!0)},[t,r,d,v,b,S]),Object(l.useEffect)(()=>{K>1&&G()},[K]);const x=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-200&&_&&!N&&T(e=>e+1),window.scrollY>300?U(!0):U(!1)};Object(l.useEffect)(()=>(window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)),[_,N]);const W=e=>{const t=JSON.parse(localStorage.getItem("wishlist"))||[];if(t.some(t=>t.id===e.id)){const a=t.filter(t=>t.id!==e.id);localStorage.setItem("wishlist",JSON.stringify(a))}else t.push(e),localStorage.setItem("wishlist",JSON.stringify(t));q()};Object(l.useEffect)(()=>{if(!C){const e=JSON.parse(localStorage.getItem("wishlist"))||[];D(e)}},[C]);return n.a.createElement("div",{className:"search"},n.a.createElement("h1",null,"\ud83e\uddd0 \uc5b4\ub5a4 \uc601\ud654\ub97c \ucc3e\uc73c\uc2dc\ub098\uc694?"),n.a.createElement("div",{className:"filters"},n.a.createElement("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"\uc81c\ubaa9 \ub610\ub294 \ud0a4\uc6cc\ub4dc \uc785\ub825"}),n.a.createElement("br",null),n.a.createElement("select",{value:r,onChange:e=>m(e.target.value)},n.a.createElement("option",{value:""},"\uc7a5\ub974 (\uc804\uccb4)"),o.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name))),n.a.createElement("select",{value:d,onChange:e=>p(e.target.value)},n.a.createElement("option",{value:""},"\ud3c9\uc810 (\uc804\uccb4)"),[...Array(10)].map((e,t)=>n.a.createElement("option",{key:t+1,value:t+1},t+1," \uc774\uc0c1"))),n.a.createElement("select",{value:v,onChange:e=>h(e.target.value)},n.a.createElement("option",{value:""},"\uc5b8\uc5b4 (\uc804\uccb4)"),n.a.createElement("option",{value:"en"},"\uc601\uc5b4 ENG"),n.a.createElement("option",{value:"ko"},"\ud55c\uad6d\uc5b4 KOR"),n.a.createElement("option",{value:"ja"},"\uc77c\ubcf8\uc5b4 JPN"),n.a.createElement("option",{value:"zh"},"\ubbf8\uc580\ub9c8\uc5b4 MYA"),n.a.createElement("option",{value:"de"},"\ub3c5\uc77c\uc5b4 DEU"),n.a.createElement("option",{value:"it"},"\uc774\ud0dc\ub9ac\uc5b4 ITA"),n.a.createElement("option",{value:"ru"},"\ub7ec\uc2dc\uc544\uc5b4 RUS"),n.a.createElement("option",{value:"es"},"\uc2a4\ud398\uc778\uc5b4 ESP"),n.a.createElement("option",{value:"fr"},"\ud504\ub791\uc2a4\uc5b4 FRA")),n.a.createElement("select",{value:b,onChange:e=>f(e.target.value)},n.a.createElement("option",{value:""},"\uac1c\ubd09\ub144\ub3c4 (\uc804\uccb4)"),Array.from({length:50},(e,t)=>n.a.createElement("option",{key:2023-t,value:2023-t},2023-t))),n.a.createElement("select",{value:S,onChange:e=>w(e.target.value)},n.a.createElement("option",{value:""},"\uc601\ud654 \ub4f1\uae09 (\uc804\uccb4)"),n.a.createElement("option",{value:"G"},"G - \uc804\uccb4 \uad00\ub78c\uac00"),n.a.createElement("option",{value:"PG"},"PG - \uc77c\ubd80 \uad00\ub78c\uac00"),n.a.createElement("option",{value:"PG-13"},"PG-13 - 13\uc138 \uc774\uc0c1"),n.a.createElement("option",{value:"R"},"R - 17\uc138 \uc774\uc0c1"),n.a.createElement("option",{value:"NC-17"},"NC-17 - 18\uc138 \uc774\uc0c1")),n.a.createElement("button",{type:"button",onClick:()=>{a(""),m(""),p(""),h(""),f(""),w(""),y([]),T(1),P(!0)}},"\ucd08\uae30\ud654")),N&&1===K?n.a.createElement("p",null,"\ub85c\ub529 \uc911..."):0===O.length?n.a.createElement("p",null,"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):n.a.createElement("div",{className:"movie-grid"},O.map(e=>n.a.createElement(g,{key:"".concat(e.id,"-").concat(R.some(t=>t.id===e.id)),movie:e,isWishlisted:R.some(t=>t.id===e.id),onWishlistToggle:W,onClick:()=>(e=>{(()=>{const e=JSON.parse(localStorage.getItem("wishlist"))||[];D(e)})(),I(e),J(!0)})(e)}))),N&&K>1&&n.a.createElement("p",null,"\ucd94\uac00 \ub85c\ub529 \uc911..."),C&&k&&n.a.createElement(E,{movie:k,onClose:()=>{I(null),J(!1);const e=JSON.parse(localStorage.getItem("wishlist"))||[];D(e)}}),M&&n.a.createElement("button",{className:"scroll-to-top",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},"\u2191"))};a(46);var S=e=>{let{movie:t,onRemoveFromWishlist:a,onCardClick:l}=e;const{id:o,title:c,poster_path:s}=t;return n.a.createElement("div",{className:"wishlist-card",key:o,onClick:l},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(s),alt:c,className:"wishlist-poster"}),n.a.createElement("div",{className:"wishlist-details"},n.a.createElement("button",{onClick:e=>{e.stopPropagation(),a(t)},className:"remove-btn"},"\ucc1c \ud574\uc81c")))};a(47);var w=()=>{const[e,t]=Object(l.useState)([]),[a,o]=Object(l.useState)(null),[c,s]=Object(l.useState)(!1),[r,i]=Object(l.useState)(1),[m,u]=Object(l.useState)(!1),g=Object(l.useCallback)(()=>{u(!0);const e=p.get("wishlist")||[];t(e.slice(10*(r-1),10*r)),u(!1)},[r]);Object(l.useEffect)(()=>{g()},[g]);const d=()=>{window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||m||i(e=>e+1)};Object(l.useEffect)(()=>(window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)),[d]);const v=e=>{const a=(p.get("wishlist")||[]).filter(t=>t.id!==e.id);p.set("wishlist",a),t(a.slice(0,10*r))};return n.a.createElement("div",{className:"wishlist"},n.a.createElement("h1",null,"\u2705 \ucc1c \ubaa9\ub85d"),0===e.length?n.a.createElement("p",null,"\ucc1c\ud55c \uc601\ud654\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):n.a.createElement("div",{className:"movie-grid"},e.map(e=>n.a.createElement(S,{key:e.id,movie:e,onRemoveFromWishlist:v,onCardClick:()=>(e=>{o(e),s(!0)})(e)}))),m&&n.a.createElement("p",null,"\ub85c\ub529 \uc911...")," ",c&&a&&n.a.createElement(E,{movie:a,onClose:()=>{o(null),s(!1),t(p.get("wishlist")||[])}}))},O=a(6);a(48);var y=e=>{let{message:t,type:a}=e;return Object(l.useEffect)(()=>{const e=setTimeout(()=>{const e=document.querySelector(".toast");e&&(e.style.display="none")},2e3);return()=>clearTimeout(e)},[]),n.a.createElement("div",{className:"toast ".concat(a)},n.a.createElement("p",null,t))},N=a(72),j=(a(49),a(19)),k=a.n(j);a(50);var I=()=>{const[e,t]=Object(l.useState)(!1),[a,o]=Object(l.useState)({email:"",password:"",confirmPassword:"",apiKey:"",username:"",rememberMe:!1,agreeTerms:!1}),[c,r]=Object(l.useState)({email:"",password:"",confirmPassword:"",apiKey:"",username:"",agreeTerms:""}),[i,m]=Object(l.useState)({message:"",type:""}),[u,g]=Object(l.useState)(!1),[d,p]=Object(l.useState)(!1),[E,v]=Object(l.useState)(""),h=Object(s.q)();Object(l.useEffect)(()=>{if(JSON.parse(localStorage.getItem("loggedInUser")))return void h("/");const e=JSON.parse(localStorage.getItem("rememberMe"));if(e){const t=(JSON.parse(localStorage.getItem("users"))||[]).find(t=>t.email===e.email);if(t){const a=2592e6;(new Date).getTime()-e.timestamp<a?(localStorage.setItem("loggedInUser",JSON.stringify(t)),h("/")):localStorage.removeItem("rememberMe")}}},[h]),Object(l.useEffect)(()=>{window.Kakao&&(window.Kakao.isInitialized()||window.Kakao.init("91d4fd298713928628e55b677c118bd3"))},[]);const b=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),f=e=>{const{name:t,value:l,type:n,checked:c}=e.target;o(Object(O.a)(Object(O.a)({},a),{},{[t]:"checkbox"===n?c:l}))},S=t=>{"Enter"===t.key&&(e?w():j())},w=()=>{r({});const{email:e,password:l,confirmPassword:n,apiKey:o,agreeTerms:c,username:s}=a,i={};if(b(e)||(i.email="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4."),l!==n&&(i.confirmPassword="\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),c||(i.agreeTerms="\uc57d\uad00\uc5d0 \ub3d9\uc758\ud574\uc57c \ud569\ub2c8\ub2e4."),o||(i.apiKey="API \ud0a4\ub97c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4."),s||(i.username="\uc0ac\uc6a9\uc790 \uc774\ub984\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4."),Object.keys(i).length>0)return void r(i);const u=JSON.parse(localStorage.getItem("users"))||[];if(u.some(t=>t.email===e))return void r({email:"\uc774\ubbf8 \ub4f1\ub85d\ub41c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."});const g={email:e,password:l,apiKey:o,username:s,wishlist:[]};u.push(g),localStorage.setItem("users",JSON.stringify(u)),m({message:"\ud68c\uc6d0\uac00\uc785 \uc131\uacf5!",type:"success"}),setTimeout(()=>{t(!1)},2e3)},j=()=>{r({});const{email:e,password:t,rememberMe:l}=a;if(!b(e))return void r({email:"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \ud615\uc2dd\uc785\ufffd\ufffd\ub2e4."});const n=(JSON.parse(localStorage.getItem("users"))||[]).find(a=>a.email===e&&a.password===t);if(!n)return void r({password:"\uc774\uba54\uc77c \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."});const o={email:n.email,username:n.username,apiKey:n.apiKey,wishlist:n.wishlist||[]};console.log("\ub85c\uadf8\uc778 \ub370\uc774\ud130:",o),localStorage.setItem("loggedInUser",JSON.stringify(o)),l?localStorage.setItem("rememberMe",JSON.stringify({email:n.email,timestamp:(new Date).getTime()})):localStorage.removeItem("rememberMe"),m({message:"\ub85c\uadf8\uc778 \uc131\uacf5! \uba54\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.",type:"success"}),setTimeout(()=>{h("/")},2e3)},I=()=>{t(e=>!e),r({})};Object(l.useEffect)(()=>{r({})},[e]),Object(l.useEffect)(()=>{(()=>{const{email:t,password:l,confirmPassword:n,agreeTerms:o,apiKey:c}=a;let s={};b(t)||(s.email="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4."),e&&l!==n&&(s.confirmPassword="\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),e&&!o&&(s.agreeTerms="\uc57d\uad00\uc5d0 \ub3d9\uc758\ud574\uc57c \ud569\ub2c8\ub2e4."),e&&!c&&(s.apiKey="API \ud0a4\ub97c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4."),r(s),Object.keys(s).length})()},[a]),Object(l.useEffect)(()=>{fetch(k.a).then(e=>e.text()).then(e=>v(e)).catch(e=>console.error("\uc774\uc6a9\uc57d\uad00 \ub85c\ub529 \uc624\ub958:",e))},[]);return n.a.createElement("div",{className:"signin-container"},n.a.createElement("div",{className:"card-wrapper"},n.a.createElement("div",{className:"card-container ".concat(e?"sign-up":"sign-in")},n.a.createElement("div",{className:"card front"},n.a.createElement("h2",null,"\ud658\uc601\ud569\ub2c8\ub2e4!"),n.a.createElement("br",null),n.a.createElement("p",null,"\ubcf8 \uc11c\ube44\uc2a4\ub294 \ud3b8\ub9ac\ud558\uace0 \ud6a8\uc728\uc801\uc778 \uc774\uc6a9\uc744 \uc704\ud574"),n.a.createElement("p",null,"\uac1c\uc778 TMDB API\ub85c \uc601\ud654 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc635\ub2c8\ub2e4."),n.a.createElement("br",null),n.a.createElement("input",{type:"email",name:"email",value:a.email,onChange:f,onKeyDown:S,placeholder:"\uc774\uba54\uc77c"}),c.email&&n.a.createElement("div",{className:"error"},c.email),n.a.createElement("input",{type:"password",name:"password",value:a.password,onChange:f,onKeyDown:S,placeholder:"\ube44\ubc00\ubc88\ud638"}),c.password&&n.a.createElement("div",{className:"error"},c.password),n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",name:"rememberMe",checked:a.rememberMe,onChange:f}),n.a.createElement("span",null,"\ub85c\uadf8\uc778 \uc0c1\ud0dc \uc720\uc9c0")),n.a.createElement("button",{onClick:j},"\ub85c\uadf8\uc778"),n.a.createElement("button",{onClick:()=>{window.Kakao?window.Kakao.Auth.login({success:e=>{window.Kakao.API.request({url:"/v2/user/me",success:e=>{var t,a;const l={id:e.id,nickname:null===(t=e.properties)||void 0===t?void 0:t.nickname,profileImage:null===(a=e.properties)||void 0===a?void 0:a.profile_image,apiKey:"0dddad40b95585e608004ae19df81bd2"};localStorage.setItem("kakaoUser",JSON.stringify(l)),m({message:"\uce74\uce74\uc624 \ub85c\uadf8\uc778 \uc131\uacf5!",type:"success"}),setTimeout(()=>{h("/")},2e3)},fail:e=>{console.error("\uce74\uce74\uc624 \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc694\uccad \uc2e4\ud328:",e),m({message:"\uce74\uce74\uc624 \ub85c\uadf8\uc778 \uc2e4\ud328",type:"error"})}})},fail:e=>{console.error("\uce74\uce74\uc624 \ub85c\uadf8\uc778 \uc2e4\ud328:",e),m({message:"\uce74\uce74\uc624 \ub85c\uadf8\uc778 \uc2e4\ud328",type:"error"})}}):m({message:"\uce74\uce74\uc624 SDK \ub85c\ub4dc \uc2e4\ud328",type:"error"})},className:"kakao-login-btn"},"\uce74\uce74\uc624\ub85c \uc2dc\uc791\ud558\uae30"),n.a.createElement("br",null),n.a.createElement("span",{onClick:I},"\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694? \ud68c\uc6d0\uac00\uc785")),n.a.createElement("div",{className:"card back"},n.a.createElement("h2",null,"\uacc4\uc815 \uc0dd\uc131"),n.a.createElement("input",{type:"text",name:"username",value:a.username,onChange:f,placeholder:"\uc0ac\uc6a9\uc790 \uc774\ub984"}),c.username&&n.a.createElement("div",{className:"error"},c.username),n.a.createElement("input",{type:"email",name:"email",value:a.email,onChange:f,onKeyDown:S,placeholder:"\uc774\uba54\uc77c"}),c.email&&n.a.createElement("div",{className:"error"},c.email),n.a.createElement("input",{type:"password",name:"password",value:a.password,onChange:f,onKeyDown:S,placeholder:"\ube44\ubc00\ubc88\ud638"}),n.a.createElement("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:f,onKeyDown:S,placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),n.a.createElement("input",{type:"text",name:"apiKey",value:a.apiKey,onChange:f,placeholder:"TMDB API \ud0a4"}),n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",name:"agreeTerms",checked:a.agreeTerms,onChange:f}),n.a.createElement("span",null,"\uc57d\uad00\uc5d0 \ub3d9\uc758\ud569\ub2c8\ub2e4")),c.agreeTerms&&n.a.createElement("div",{className:"error"},c.agreeTerms),n.a.createElement("term-button",{onClick:()=>g(!0)},"\uc774\uc6a9\uc57d\uad00 \ubcf4\uae30"),n.a.createElement("button",{onClick:w},"\ud68c\uc6d0\uac00\uc785"),n.a.createElement("br",null),n.a.createElement("span",{onClick:I},"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694? \ub85c\uadf8\uc778")))),u&&n.a.createElement("div",{className:"terms-modal-overlay ".concat(d?"fade-out":"")},n.a.createElement("div",{className:"terms-modal-content ".concat(d?"pop-out":"")},n.a.createElement("button",{className:"terms-close-button",onClick:()=>{p(!0),setTimeout(()=>{g(!1),p(!1)},500)}},"\xd7"),n.a.createElement(N.a,{className:"markdown-content"},E))),i.message&&n.a.createElement(y,{message:i.message,type:i.type}))};a(55);var C=()=>{const{id:e}=Object(s.s)(),[t,a]=Object(l.useState)(null),[o,c]=Object(l.useState)(!0);return Object(l.useEffect)(()=>{(async()=>{try{const t=await u.getMovieDetails(e);a(t)}catch(t){console.error("Error fetching movie details:",t)}finally{c(!1)}})()},[e]),o?n.a.createElement("p",null,"Loading..."):t?n.a.createElement("div",{className:"movie-details-page"},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:t.title,className:"movie-details-poster"}),n.a.createElement("div",{className:"movie-details-info"},n.a.createElement("h1",null,t.title),n.a.createElement("p",null,t.overview),n.a.createElement("p",null,"Release Date: ",t.release_date),n.a.createElement("p",null,"Rating: ",t.vote_average))):n.a.createElement("p",null,"Movie not found.")};a(56);var J=()=>{const e=JSON.parse(localStorage.getItem("loggedInUser")),[t,a]=Object(l.useState)(!1),[o,c]=Object(l.useState)({message:"",type:""}),[i,m]=Object(l.useState)(!1),u=Object(s.q)();return n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"header-logo"},n.a.createElement(r.b,{to:"/"},"\ud83c\udfac JBNU \uc2dc\ub124\ub9c8")),n.a.createElement("div",{className:"menu-icon",onClick:()=>m(e=>!e)},"\u2630"),n.a.createElement("nav",{className:"header-nav ".concat(i?"active":"")},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(r.b,{to:"/",onClick:()=>m(!1)},"\ud648")),n.a.createElement("li",null,n.a.createElement(r.b,{to:"/popular",onClick:()=>m(!1)},"\ub300\uc138 \ucf58\ud150\uce20")),n.a.createElement("li",null,n.a.createElement(r.b,{to:"/search",onClick:()=>m(!1)},"\ucc3e\uc544\ubcf4\uae30")),n.a.createElement("li",null,n.a.createElement(r.b,{to:"/wishlist",onClick:()=>m(!1)},"\ub0b4\uac00 \ucc1c\ud55c \ub9ac\uc2a4\ud2b8")),e?n.a.createElement("li",null,n.a.createElement("button",{className:"logout-menu-button",onClick:()=>{m(!1),a(!0)}},"\ub85c\uadf8\uc544\uc6c3")):n.a.createElement("li",null,n.a.createElement(r.b,{to:"/signin",onClick:()=>m(!1)},"\ub85c\uadf8\uc778")))),t&&n.a.createElement("div",{className:"logout-modal-overlay"},n.a.createElement("div",{className:"logout-modal-content"},n.a.createElement("p",null,"\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"),n.a.createElement("div",{className:"logout-modal-buttons"},n.a.createElement("button",{onClick:()=>{localStorage.removeItem("loggedInUser"),c({message:"\uc548\ub155\ud788 \uac00\uc138\uc694, \ub610 \ubd59\uaca0\uc2b5\ub2c8\ub2e4!",type:"success"}),a(!1),setTimeout(()=>{u("/signin")},2e3)}},"\ud655\uc778"),n.a.createElement("button",{onClick:()=>a(!1)},"\ucde8\uc18c")))),o.message&&n.a.createElement(y,{message:o.message,type:o.type}))};var K=e=>{let{children:t}=e;const a=JSON.parse(localStorage.getItem("loggedInUser")),l=JSON.parse(localStorage.getItem("kakaoUser"));return!!a||!!l?t:n.a.createElement(s.a,{to:"/signin"})};a(57);var T=()=>{const[e,t]=Object(l.useState)(!1),a=()=>{window.scrollY>300?t(!0):t(!1)};return Object(l.useEffect)(()=>(window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)),[]),n.a.createElement("div",{className:"scroll-to-top ".concat(e?"show":""),onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},"\u2191")};const _=()=>{const e=Object(s.q)(),[t,a]=Object(l.useState)(!0),[o,c]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{(async()=>{if(!o)try{await new Promise(e=>setTimeout(e,100));const t=JSON.parse(localStorage.getItem("loggedInUser")),l=JSON.parse(localStorage.getItem("kakaoUser")),n=JSON.parse(localStorage.getItem("rememberMe")),o=window.location.hash;if(t||l)"#/signin"===o&&e("/home");else if(n){const t=(JSON.parse(localStorage.getItem("users"))||[]).find(e=>e.email===n.email);if(t){const a=2592e6;(new Date).getTime()-n.timestamp<a?(localStorage.setItem("loggedInUser",JSON.stringify({email:t.email,username:t.username,apiKey:t.apiKey,wishlist:t.wishlist||[]})),"#/signin"===o&&e("/home")):(localStorage.removeItem("rememberMe"),e("/signin"))}else localStorage.removeItem("rememberMe"),e("/signin")}else e("/signin")}catch(t){console.error("Auth initialization error:",t),e("/signin")}finally{a(!1),c(!0)}})()},[e,o]),t?n.a.createElement("div",null,"\ub85c\ub529\uc911..."):n.a.createElement(n.a.Fragment,null,n.a.createElement(J,null),n.a.createElement(T,null),n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/",element:n.a.createElement(s.a,{to:"/home",replace:!0})}),n.a.createElement(s.b,{path:"/signin",element:n.a.createElement(I,null)}),n.a.createElement(s.b,{path:"/home",element:n.a.createElement(K,null,n.a.createElement(v,null))}),n.a.createElement(s.b,{path:"/popular",element:n.a.createElement(K,null,n.a.createElement(b,null))}),n.a.createElement(s.b,{path:"/search",element:n.a.createElement(K,null,n.a.createElement(f,null))}),n.a.createElement(s.b,{path:"/wishlist",element:n.a.createElement(K,null,n.a.createElement(w,null))}),n.a.createElement(s.b,{path:"/movie/:id",element:n.a.createElement(K,null,n.a.createElement(C,null))})))};var P=()=>n.a.createElement(r.a,null,n.a.createElement(_,null));a(58);c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(P,null)))}},[[29,1,2]]]);
//# sourceMappingURL=main.21d1e199.chunk.js.map